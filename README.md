# CampusMind 🧠

**AI-powered academic and wellness assistant for college students**

CampusMind is a comprehensive full-stack application that leverages AI agents to provide personalized academic guidance and wellness support for college students. Built for Hack Midwest 2025.

[![FastAPI](https://img.shields.io/badge/FastAPI-0.104+-green.svg)](https://fastapi.tiangolo.com)
[![Next.js](https://img.shields.io/badge/Next.js-14-black.svg)](https://nextjs.org)
[![MongoDB](https://img.shields.io/badge/MongoDB-Atlas-green.svg)](https://www.mongodb.com/atlas)
[![Clerk](https://img.shields.io/badge/Auth-Clerk-blue.svg)](https://clerk.com)

## 🚀 Quick Start

### Prerequisites

- Python 3.10+
- Node.js 18+
- MongoDB Atlas account
- Canvas LMS access (optional)
- Google account (for Calendar integration)

### Backend Setup (5 minutes)

```bash
cd backend

# Install dependencies
pip install fastapi uvicorn motor pymongo python-dotenv httpx pyjwt

# Copy environment file
cp .env.example .env

# Edit .env with your MongoDB URI
# For testing without Clerk, leave CLERK_SECRET_KEY commented

# Start server
uvicorn main:app --reload
```

**Server running at:** http://localhost:8000
**API Docs:** http://localhost:8000/docs

### Frontend Setup

```bash
cd frontend

# Install dependencies
npm install

# Start development server
npm run dev
```

**App running at:** http://localhost:3000

## 📚 Documentation

- **[Authentication Setup](./docs/AUTHENTICATION.md)** - Clerk setup, dev tokens, testing
- **[API Guide](./docs/API_GUIDE.md)** - Complete endpoint reference
- **[Canvas Integration](./docs/CANVAS_INTEGRATION.md)** - LMS setup and sync
- **[Google Calendar Setup](./docs/GOOGLE_CALENDAR.md)** - Calendar integration
- **[Database Schema](./docs/DATABASE.md)** - MongoDB collections and indexes
- **[AI Agents](./docs/AI_AGENTS.md)** - Strands SDK agent system
- **[Development Guide](./docs/DEVELOPMENT.md)** - Contributing and testing
- **[Deployment](./docs/DEPLOYMENT.md)** - Production deployment guide

## ✨ Features

### Academic Support
- ✅ **Canvas LMS Integration** - Automatic assignment sync
- ✅ **Assignment Tracker** - Track deadlines and submissions
- ✅ **Smart Scheduling** - AI-powered study session planning
- ✅ **Course Management** - Track and organize courses
- 🔄 **Study Plans** - AI-generated study schedules (in progress)
- 🔄 **Grade Analytics** - Performance tracking (in progress)

### Wellness & Mental Health
- 🔄 **Mood Tracking** - Track emotional patterns (in progress)
- 🔄 **Journal System** - Safe space for reflection (in progress)
- 🔄 **AI Wellness Companion** - Mental health support (in progress)
- 🔄 **Wellness Activities** - Personalized suggestions (in progress)

### Smart Integration
- ✅ **Google Calendar Sync** - Automatic event creation
- ✅ **Strands AI Agents** - Intelligent task orchestration
- ✅ **Clerk Authentication** - Secure user management
- ✅ **Vector Search** - Semantic search (MongoDB Atlas)

## 🏗️ Architecture

```
CampusMind/
├── backend/              # FastAPI Python backend
│   ├── app/
│   │   ├── agents/       # AI agents (Strands SDK)
│   │   ├── routers/      # API endpoints
│   │   ├── services/     # Business logic
│   │   ├── models/       # Pydantic schemas
│   │   ├── middleware/   # Auth middleware
│   │   └── util/         # Helper utilities
│   └── main.py           # FastAPI app entry
├── frontend/             # Next.js 14 TypeScript frontend
├── docs/                 # Comprehensive documentation
└── infra/               # Infrastructure configs
```

### Tech Stack

**Backend:**
- FastAPI - Modern async web framework
- MongoDB Atlas - NoSQL database with vector search
- Clerk - Authentication & user management
- Strands Agents SDK - AI agent orchestration
- PyJWT - JWT token validation

**Frontend:**
- Next.js 14 - React framework with App Router
- TypeScript - Type-safe development
- Tailwind CSS - Utility-first styling
- Clerk React - Authentication components

**Integrations:**
- Canvas LMS API - Academic data
- Google Calendar API - Event management
- OpenAI - Embeddings (optional)

## 🔐 Authentication

CampusMind uses **Clerk** for authentication with JWT tokens. All API endpoints (except `/docs`, `/health`, `/auth/dev-token`) require authentication.

### Testing without Clerk (Development)

```bash
# Get a dev token
curl -X POST http://localhost:8000/auth/dev-token \
  -H "Content-Type: application/json" \
  -d '{"user_id": "test_user", "email": "test@example.com"}'

# Use token in requests
curl -H "Authorization: Bearer YOUR_TOKEN" \
  http://localhost:8000/canvas/courses
```

See [Authentication Setup](./docs/AUTHENTICATION.md) for full Clerk configuration.

## 📖 API Documentation

Interactive API documentation is automatically generated by FastAPI:

- **Swagger UI:** http://localhost:8000/docs
- **ReDoc:** http://localhost:8000/redoc

### Key Endpoints

| Endpoint | Method | Description |
|----------|--------|-------------|
| `/auth/dev-token` | POST | Get dev JWT token (testing only) |
| `/canvas/connect` | POST | Connect Canvas account |
| `/canvas/courses` | GET | Get Canvas courses |
| `/canvas/assignments/upcoming` | GET | Get upcoming assignments |
| `/calendar/auth-url` | GET | Get Google OAuth URL |
| `/calendar/events` | GET | Get calendar events |
| `/sync/canvas-to-calendar` | POST | Sync Canvas → Calendar |
| `/sync/agent/ask` | POST | Ask Strands AI agent |

See [API Guide](./docs/API_GUIDE.md) for complete endpoint reference.

## 🤖 AI Agents

CampusMind uses the **Strands Agents SDK** for intelligent task orchestration:

- **Academic Coach** - Study planning and academic guidance
- **Wellness Companion** - Mental health support
- **Sync Agent** - Workload analysis and smart scheduling
- **Context Enricher** - Vector search for historical data
- **Action Agent** - External service integration

Example usage:

```bash
curl -X POST http://localhost:8000/sync/agent/ask \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "query": "What assignments do I have this week?",
    "context": {}
  }'
```

See [AI Agents Guide](./docs/AI_AGENTS.md) for more details.

## 🗄️ Database

MongoDB Atlas with vector search capabilities:

### Collections
- `users` - User profiles and preferences
- `canvas_tokens` - Canvas authentication tokens
- `google_tokens` - Google Calendar tokens
- `tracked_courses` - Courses being monitored
- `canvas_assignments` - Assignment data with sync status
- `calendar_events` - Calendar events
- `sync_state` - User sync configuration
- `journal_entries` - Wellness journal entries
- `study_plans` - AI-generated study plans

See [Database Schema](./docs/DATABASE.md) for details.

## 🧪 Testing

### Backend Testing

```bash
# Test health endpoint
curl http://localhost:8000/health

# Get dev token
curl -X POST http://localhost:8000/auth/dev-token

# Test authenticated endpoint
curl -H "Authorization: Bearer YOUR_TOKEN" \
  http://localhost:8000/canvas/test
```

### Using Postman

1. Import collection from `infra/postman/` (if available)
2. Get dev token from `/auth/dev-token`
3. Set as Bearer token in Authorization
4. Test all endpoints

See [Development Guide](./docs/DEVELOPMENT.md) for testing strategies.

## 🚢 Deployment

### Backend (Railway/Render/Heroku)

```bash
# Install production dependencies
pip install -r requirements.txt

# Set environment variables
MONGODB_URI=your_mongodb_uri
CLERK_SECRET_KEY=your_clerk_secret
CLERK_JWKS_URL=your_jwks_url

# Start with production server
uvicorn main:app --host 0.0.0.0 --port 8000
```

### Frontend (Vercel/Netlify)

```bash
npm run build
npm start
```

See [Deployment Guide](./docs/DEPLOYMENT.md) for detailed instructions.

## 📁 Project Structure

```
backend/
├── app/
│   ├── agents/              # AI agents
│   │   ├── academic_coach.py
│   │   ├── sync_agent.py
│   │   └── wellness_companion.py
│   ├── middleware/          # Auth middleware
│   │   └── auth.py          # Clerk JWT validation
│   ├── models/              # Pydantic schemas
│   │   └── schemas.py
│   ├── routers/             # API endpoints
│   │   ├── auth.py          # Authentication
│   │   ├── canvas.py        # Canvas LMS
│   │   ├── calendar.py      # Google Calendar
│   │   ├── sync.py          # Sync orchestration
│   │   └── ...
│   ├── services/            # Business logic
│   │   ├── canvas_service.py
│   │   ├── google_calendar_service.py
│   │   └── sync_service.py
│   └── util/                # Utilities
│       ├── auth_helpers.py  # Auth helper functions
│       └── db.py            # Database manager
├── .env.example             # Environment template
└── main.py                  # FastAPI application
```

## 🤝 Contributing

Contributions are welcome! Please see [Development Guide](./docs/DEVELOPMENT.md).

### Development Workflow

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Add tests (when test suite is ready)
5. Submit a pull request

## 📝 License

This project is licensed under the MIT License.

## 🙏 Acknowledgments

- **Strands** - AI Agents SDK
- **Clerk** - Authentication platform
- **Canvas** - LMS integration
- **MongoDB** - Vector search capabilities
- **FastAPI** - Modern Python web framework
- **Next.js** - React framework

## 📞 Support

- **Documentation:** [./docs](./docs/)
- **Issues:** [GitHub Issues](https://github.com/your-repo/issues)
- **Discussions:** [GitHub Discussions](https://github.com/your-repo/discussions)

---

**Built with ❤️ for Hack Midwest 2025**

*Empowering college students with AI-driven academic and wellness support*
